{"ast":null,"code":"var _jsxFileName = \"/Users/akiyamashuuhei/data/ShereJob/frontend/src/pages/company/companyAdd.tsx\",\n  _s = $RefreshSig$();\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport CompanyDetail from '../../components/companyDetail';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CompanyAdd(_ref) {\n  _s();\n  let {\n    user,\n    searchedCompanyList,\n    handleUpdate\n  } = _ref;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  // 対応する会社情報を探す\n  const company = searchedCompanyList.find(info => info.id === id);\n  const handleRegister = async () => {\n    try {\n      await fetch(process.env.REACT_APP_BASE_URL + `myCompany/registerMyCompany`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: user.email,\n          id: id,\n          memo: ''\n        })\n      });\n      if (company) {\n        alert(company.name + 'を登録しました');\n      }\n      handleUpdate();\n    } catch (err) {\n      alert('登録に失敗しました');\n    }\n  };\n\n  /**\n   *完了ボタンが押されたときの処理を実装する\n   */\n  const handleComplete = () => {\n    handleRegister();\n    navigate('/pages/home');\n  };\n  const handleReturn = () => {\n    navigate('/pages/home');\n  };\n\n  /**\n   * タイトルを更新する\n   */\n  useEffect(() => {\n    if (company) {\n      document.title = `${company.name}のメモ`;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [company ? /*#__PURE__*/_jsxDEV(CompanyDetail, {\n      company: company\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleComplete,\n      children: \"\\u8FFD\\u52A0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleReturn,\n      children: \"\\u623B\\u308B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 3\n  }, this);\n}\n_s(CompanyAdd, \"jBhyhCnGnTynLG86SR547tPdgyU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CompanyAdd;\nexport default CompanyAdd;\nvar _c;\n$RefreshReg$(_c, \"CompanyAdd\");","map":{"version":3,"names":["useParams","useNavigate","useEffect","CompanyDetail","jsxDEV","_jsxDEV","CompanyAdd","_ref","_s","user","searchedCompanyList","handleUpdate","id","navigate","company","find","info","handleRegister","fetch","process","env","REACT_APP_BASE_URL","method","headers","Accept","body","JSON","stringify","email","memo","alert","name","err","handleComplete","handleReturn","document","title","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/akiyamashuuhei/data/ShereJob/frontend/src/pages/company/companyAdd.tsx"],"sourcesContent":["import { useParams, useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { CompanyAddProps, CompanyType } from '../../utils/types';\nimport CompanyDetail from '../../components/companyDetail';\n\nfunction CompanyAdd({\n\tuser,\n\tsearchedCompanyList,\n\thandleUpdate,\n}: CompanyAddProps) {\n\tconst { id } = useParams();\n\tconst navigate = useNavigate();\n\t// 対応する会社情報を探す\n\tconst company: CompanyType | undefined = searchedCompanyList.find(\n\t\t(info) => info.id === id\n\t);\n\n\tconst handleRegister = async () => {\n\t\ttry {\n\t\t\tawait fetch(\n\t\t\t\tprocess.env.REACT_APP_BASE_URL! + `myCompany/registerMyCompany`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAccept: 'application/json',\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\tmemo: '',\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (company) {\n\t\t\t\talert(company.name + 'を登録しました');\n\t\t\t}\n\t\t\thandleUpdate();\n\t\t} catch (err) {\n\t\t\talert('登録に失敗しました');\n\t\t}\n\t};\n\n\t/**\n\t *完了ボタンが押されたときの処理を実装する\n\t */\n\tconst handleComplete = () => {\n\t\thandleRegister();\n\t\tnavigate('/pages/home');\n\t};\n\n\tconst handleReturn = () => {\n\t\tnavigate('/pages/home');\n\t};\n\n\t/**\n\t * タイトルを更新する\n\t */\n\tuseEffect(() => {\n\t\tif (company) {\n\t\t\tdocument.title = `${company.name}のメモ`;\n\t\t}\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t{company ? <CompanyDetail company={company} /> : null}\n\n\t\t\t<button onClick={handleComplete}>追加</button>\n\t\t\t<button onClick={handleReturn}>戻る</button>\n\t\t</div>\n\t);\n}\n\nexport default CompanyAdd;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,SAAS,QAAQ,OAAO;AAEjC,OAAOC,aAAa,MAAM,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,SAASC,UAAUA,CAAAC,IAAA,EAIC;EAAAC,EAAA;EAAA,IAJA;IACnBC,IAAI;IACJC,mBAAmB;IACnBC;EACgB,CAAC,GAAAJ,IAAA;EACjB,MAAM;IAAEK;EAAG,CAAC,GAAGZ,SAAS,CAAC,CAAC;EAC1B,MAAMa,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B;EACA,MAAMa,OAAgC,GAAGJ,mBAAmB,CAACK,IAAI,CAC/DC,IAAI,IAAKA,IAAI,CAACJ,EAAE,KAAKA,EACvB,CAAC;EAED,MAAMK,cAAc,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACH,MAAMC,KAAK,CACVC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAK,6BAA4B,EAC/D;QACCC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACRC,MAAM,EAAE,kBAAkB;UAC1B,cAAc,EAAE;QACjB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACpBC,KAAK,EAAEnB,IAAI,CAACmB,KAAK;UACjBhB,EAAE,EAAEA,EAAE;UACNiB,IAAI,EAAE;QACP,CAAC;MACF,CACD,CAAC;MAED,IAAIf,OAAO,EAAE;QACZgB,KAAK,CAAChB,OAAO,CAACiB,IAAI,GAAG,SAAS,CAAC;MAChC;MACApB,YAAY,CAAC,CAAC;IACf,CAAC,CAAC,OAAOqB,GAAG,EAAE;MACbF,KAAK,CAAC,WAAW,CAAC;IACnB;EACD,CAAC;;EAED;AACD;AACA;EACC,MAAMG,cAAc,GAAGA,CAAA,KAAM;IAC5BhB,cAAc,CAAC,CAAC;IAChBJ,QAAQ,CAAC,aAAa,CAAC;EACxB,CAAC;EAED,MAAMqB,YAAY,GAAGA,CAAA,KAAM;IAC1BrB,QAAQ,CAAC,aAAa,CAAC;EACxB,CAAC;;EAED;AACD;AACA;EACCX,SAAS,CAAC,MAAM;IACf,IAAIY,OAAO,EAAE;MACZqB,QAAQ,CAACC,KAAK,GAAI,GAAEtB,OAAO,CAACiB,IAAK,KAAI;IACtC;EACD,CAAC,CAAC;EAEF,oBACC1B,OAAA;IAAAgC,QAAA,GACEvB,OAAO,gBAAGT,OAAA,CAACF,aAAa;MAACW,OAAO,EAAEA;IAAQ;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GAAG,IAAI,eAErDpC,OAAA;MAAQqC,OAAO,EAAET,cAAe;MAAAI,QAAA,EAAC;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC5CpC,OAAA;MAAQqC,OAAO,EAAER,YAAa;MAAAG,QAAA,EAAC;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtC,CAAC;AAER;AAACjC,EAAA,CApEQF,UAAU;EAAA,QAKHN,SAAS,EACPC,WAAW;AAAA;AAAA0C,EAAA,GANpBrC,UAAU;AAsEnB,eAAeA,UAAU;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}