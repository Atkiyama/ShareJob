{"ast":null,"code":"var _jsxFileName = \"/Users/akiyamashuuhei/data/ShereJob/frontend/src/pages/company/companyRegister.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport CompanyDetail from '../../components/companyDetail';\n\n/**\n * 検索画面から企業の詳細確認できる画面\n * @param param0 企業id\n * @returns\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CompanyRegister(_ref) {\n  _s();\n  let {\n    searchedCompany,\n    user,\n    companyList,\n    myCompanyList,\n    updateCompanyList,\n    updateMyCompanyList\n  } = _ref;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  //idに合致するid\n  const [company, setCompany] = useState();\n  /**\n   *idに合致する企業情報を取得する\n   */\n  useEffect(() => {\n    const foundCompany = searchedCompany.find(item => item.id === id);\n    if (foundCompany) {\n      setCompany(foundCompany);\n      if (typeof company !== 'undefined') {\n        document.title = `${company.name}`;\n      }\n    }\n  });\n  /**\n   *バックエンドに企業メモを登録する\n   */\n  const handleRegisterMyCompany = async () => {\n    try {\n      await fetch(`http://localhost:5000/myCompany/registerMyCompany`, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: user.email,\n          id: id,\n          memo: ''\n        })\n      });\n      if (company) {\n        alert(`${company.name}を登録しました`);\n      }\n    } catch (err) {\n      alert('登録に失敗しました');\n    }\n  };\n\n  /**\n   * 企業リストにidの企業を加える\n   */\n  const handleAdd = () => {\n    if (id) {\n      const myCompany = {\n        email: user.email,\n        id: id,\n        memo: ''\n      };\n      const updatedMyCompanyList = myCompanyList;\n      updatedMyCompanyList.push(myCompany);\n      updateMyCompanyList(updatedMyCompanyList);\n      const findCompany = companyList.find(item => item.id === id);\n      if (!findCompany && company) {\n        const updatedCompanyList = companyList;\n        updatedCompanyList.push(company);\n        updateCompanyList(updatedCompanyList);\n      }\n    }\n    handleRegisterMyCompany();\n    navigate('/pages/company/searchCompany');\n  };\n\n  /**\n   * キャンセルボタンを押すと検索画面に戻る\n   */\n  const handleReturn = () => {\n    navigate('/pages/company/searchCompany');\n  };\n  if (typeof company !== 'undefined') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(CompanyDetail, {\n        company: company\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleAdd(),\n        children: \"\\u767B\\u9332\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleReturn(),\n        children: \"\\u623B\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 4\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 10\n    }, this);\n  }\n}\n_s(CompanyRegister, \"HdyNK+0ufGtU2emPGW5kdv8lLlY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CompanyRegister;\nexport default CompanyRegister;\nvar _c;\n$RefreshReg$(_c, \"CompanyRegister\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","CompanyDetail","jsxDEV","_jsxDEV","CompanyRegister","_ref","_s","searchedCompany","user","companyList","myCompanyList","updateCompanyList","updateMyCompanyList","id","navigate","company","setCompany","foundCompany","find","item","document","title","name","handleRegisterMyCompany","fetch","method","headers","Accept","body","JSON","stringify","email","memo","alert","err","handleAdd","myCompany","updatedMyCompanyList","push","findCompany","updatedCompanyList","handleReturn","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/akiyamashuuhei/data/ShereJob/frontend/src/pages/company/companyRegister.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {\n\tCompanyRegisterProps,\n\tMyCompanyType,\n\tCompanyType,\n} from '../../utils/types';\nimport CompanyDetail from '../../components/companyDetail';\n\n/**\n * 検索画面から企業の詳細確認できる画面\n * @param param0 企業id\n * @returns\n */\nfunction CompanyRegister({\n\tsearchedCompany,\n\tuser,\n\tcompanyList,\n\tmyCompanyList,\n\n\tupdateCompanyList,\n\tupdateMyCompanyList,\n}: CompanyRegisterProps) {\n\tconst { id } = useParams<{ id: string }>();\n\tconst navigate = useNavigate();\n\t//idに合致するid\n\tconst [company, setCompany] = useState<CompanyType>();\n\t/**\n\t *idに合致する企業情報を取得する\n\t */\n\tuseEffect(() => {\n\t\tconst foundCompany = searchedCompany.find((item) => item.id === id);\n\n\t\tif (foundCompany) {\n\t\t\tsetCompany(foundCompany);\n\t\t\tif (typeof company !== 'undefined') {\n\t\t\t\tdocument.title = `${company.name}`;\n\t\t\t}\n\t\t}\n\t});\n\t/**\n\t *バックエンドに企業メモを登録する\n\t */\n\tconst handleRegisterMyCompany = async () => {\n\t\ttry {\n\t\t\tawait fetch(`http://localhost:5000/myCompany/registerMyCompany`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\tAccept: 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\temail: user.email,\n\t\t\t\t\tid: id,\n\t\t\t\t\tmemo: '',\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tif (company) {\n\t\t\t\talert(`${company.name}を登録しました`);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\talert('登録に失敗しました');\n\t\t}\n\t};\n\n\t/**\n\t * 企業リストにidの企業を加える\n\t */\n\tconst handleAdd = () => {\n\t\tif (id) {\n\t\t\tconst myCompany: MyCompanyType = {\n\t\t\t\temail: user.email,\n\t\t\t\tid: id,\n\t\t\t\tmemo: '',\n\t\t\t};\n\t\t\tconst updatedMyCompanyList: MyCompanyType[] = myCompanyList;\n\t\t\tupdatedMyCompanyList.push(myCompany);\n\t\t\tupdateMyCompanyList(updatedMyCompanyList);\n\t\t\tconst findCompany: CompanyType | undefined = companyList.find(\n\t\t\t\t(item) => item.id === id\n\t\t\t);\n\t\t\tif (!findCompany && company) {\n\t\t\t\tconst updatedCompanyList: CompanyType[] = companyList;\n\t\t\t\tupdatedCompanyList.push(company);\n\t\t\t\tupdateCompanyList(updatedCompanyList);\n\t\t\t}\n\t\t}\n\n\t\thandleRegisterMyCompany();\n\n\t\tnavigate('/pages/company/searchCompany');\n\t};\n\n\t/**\n\t * キャンセルボタンを押すと検索画面に戻る\n\t */\n\tconst handleReturn = () => {\n\t\tnavigate('/pages/company/searchCompany');\n\t};\n\n\tif (typeof company !== 'undefined') {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CompanyDetail company={company} />\n\t\t\t\t<button onClick={() => handleAdd()}>登録</button>\n\t\t\t\t<button onClick={() => handleReturn()}>戻る</button>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn <div></div>;\n\t}\n}\n\nexport default CompanyRegister;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}