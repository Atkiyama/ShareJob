{"ast":null,"code":"import _regeneratorRuntime from\"/Users/akiyamashuuhei/data/ShereJob/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/akiyamashuuhei/data/ShereJob/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useParams,useNavigate}from'react-router-dom';import{useEffect}from'react';import CompanyDetail from'../../components/companyDetail';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CompanyAdd(_ref){var user=_ref.user,searchedCompanyList=_ref.searchedCompanyList,handleUpdate=_ref.handleUpdate;var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();// 対応する会社情報を探す\nvar company=searchedCompanyList.find(function(info){return info.id===id;});var handleRegister=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(process.env.REACT_APP_BASE_URL+\"myCompany/registerMyCompany\",{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json',authorization:\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({email:user.email,id:id,memo:''})});case 3:if(company){alert(company.name+'を登録しました');}handleUpdate();_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert('登録に失敗しました');case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function handleRegister(){return _ref2.apply(this,arguments);};}();/**\n\t *完了ボタンが押されたときの処理を実装する\n\t */var handleComplete=function handleComplete(){handleRegister();navigate('/pages/home');};var handleReturn=function handleReturn(){navigate('/pages/home');};/**\n\t * タイトルを更新する\n\t */useEffect(function(){if(company){document.title=\"\".concat(company.name,\"\\u306E\\u30E1\\u30E2\");}});return/*#__PURE__*/_jsxs(\"div\",{children:[company?/*#__PURE__*/_jsx(CompanyDetail,{company:company}):null,/*#__PURE__*/_jsx(\"button\",{onClick:handleComplete,children:\"\\u8FFD\\u52A0\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReturn,children:\"\\u623B\\u308B\"})]});}export default CompanyAdd;","map":{"version":3,"names":["useParams","useNavigate","useEffect","CompanyDetail","jsx","_jsx","jsxs","_jsxs","CompanyAdd","_ref","user","searchedCompanyList","handleUpdate","_useParams","id","navigate","company","find","info","handleRegister","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","process","env","REACT_APP_BASE_URL","method","headers","Accept","authorization","concat","localStorage","getItem","body","JSON","stringify","email","memo","alert","name","t0","stop","apply","arguments","handleComplete","handleReturn","document","title","children","onClick"],"sources":["/Users/akiyamashuuhei/data/ShereJob/frontend/src/pages/company/companyAdd.tsx"],"sourcesContent":["import { useParams, useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { CompanyAddProps, CompanyType } from '../../utils/types';\nimport CompanyDetail from '../../components/companyDetail';\n\nfunction CompanyAdd({\n\tuser,\n\tsearchedCompanyList,\n\thandleUpdate,\n}: CompanyAddProps) {\n\tconst { id } = useParams();\n\tconst navigate = useNavigate();\n\t// 対応する会社情報を探す\n\tconst company: CompanyType | undefined = searchedCompanyList.find(\n\t\t(info) => info.id === id\n\t);\n\n\tconst handleRegister = async () => {\n\t\ttry {\n\t\t\tawait fetch(\n\t\t\t\tprocess.env.REACT_APP_BASE_URL! + `myCompany/registerMyCompany`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAccept: 'application/json',\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tauthorization: `Bearer ${localStorage.getItem('token')}`,\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\tmemo: '',\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (company) {\n\t\t\t\talert(company.name + 'を登録しました');\n\t\t\t}\n\t\t\thandleUpdate();\n\t\t} catch (err) {\n\t\t\talert('登録に失敗しました');\n\t\t}\n\t};\n\n\t/**\n\t *完了ボタンが押されたときの処理を実装する\n\t */\n\tconst handleComplete = () => {\n\t\thandleRegister();\n\t\tnavigate('/pages/home');\n\t};\n\n\tconst handleReturn = () => {\n\t\tnavigate('/pages/home');\n\t};\n\n\t/**\n\t * タイトルを更新する\n\t */\n\tuseEffect(() => {\n\t\tif (company) {\n\t\t\tdocument.title = `${company.name}のメモ`;\n\t\t}\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t{company ? <CompanyDetail company={company} /> : null}\n\n\t\t\t<button onClick={handleComplete}>追加</button>\n\t\t\t<button onClick={handleReturn}>戻る</button>\n\t\t</div>\n\t);\n}\n\nexport default CompanyAdd;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}