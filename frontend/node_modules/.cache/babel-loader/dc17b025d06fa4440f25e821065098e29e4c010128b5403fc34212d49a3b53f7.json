{"ast":null,"code":"import _regeneratorRuntime from\"/Users/akiyamashuuhei/data/ShereJob/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/akiyamashuuhei/data/ShereJob/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/akiyamashuuhei/data/ShereJob/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{flexRender,getCoreRowModel,useReactTable}from'@tanstack/react-table';/**\n * ホーム画面\n * @param param0\n * @returns\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(_ref){var user=_ref.user,myCompanyList=_ref.myCompanyList,companyList=_ref.companyList;var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];/**\n\t * テーブルのヘッダを定義する\n\t */var columns=[{accessorKey:'name',header:'企業名'},{accessorKey:'memo',header:'メモ'},{accessorKey:'actions',header:'',// 空のヘッダーを指定して編集ボタンの列を作成\ncell:function cell(rowContext){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleEdit(rowContext.row.original);},children:\"\\u7DE8\\u96C6\"});}}];/**\n\t * ReactTableを定義する\n\t */var table=useReactTable({data:data,columns:columns,getCoreRowModel:getCoreRowModel()});/**\n\t * companyInfoからcompanyInfoTableの情報を取得する\n\t */useEffect(function(){if(user){document.title='ホーム';var handleCompanyInfoTable=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var newData,i,j,row;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(companyList.length>0)){_context.next=17;break;}newData=[];i=0;case 3:if(!(i<myCompanyList.length)){_context.next=16;break;}j=0;case 5:if(!(j<companyList.length)){_context.next=13;break;}if(!(myCompanyList[i].id===companyList[j].id)){_context.next=10;break;}row={id:myCompanyList[i].id,// idを追加\nemail:myCompanyList[i].email,// emailを追加\nname:companyList[j].name,memo:myCompanyList[i].memo};newData.push(row);return _context.abrupt(\"break\",13);case 10:j++;_context.next=5;break;case 13:i++;_context.next=3;break;case 16:setData(newData);case 17:case\"end\":return _context.stop();}},_callee);}));return function handleCompanyInfoTable(){return _ref2.apply(this,arguments);};}();handleCompanyInfoTable();}else{alert('ログインしてください');navigate('/pages/user/login');}},[myCompanyList,companyList]);/**\n\t * 編集画面に遷移する\n\t * @param row emailとidが含まれる\n\t */var handleEdit=function handleEdit(row){// 編集処理を実装する\nnavigate(\"/pages/myCompany/myCompany/\".concat(row.email,\"/\").concat(row.id));};/**\n\t * 検索画面に遷移する\n\t */var handleSearch=function handleSearch(){navigate('/pages/company/searchCompany');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[user.name,\"\\u69D8\"]}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u767B\\u9332\\u4F01\\u696D\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:table.getHeaderGroups().map(function(headerGroup,index){return/*#__PURE__*/_jsx(\"tr\",{children:headerGroup.headers.map(function(header,index){return/*#__PURE__*/_jsx(\"th\",{children:header.isPlaceholder?null:flexRender(header.column.columnDef.header,header.getContext())},index);})},index);})}),/*#__PURE__*/_jsx(\"tbody\",{children:table.getRowModel().rows.map(function(row,index){return/*#__PURE__*/_jsx(\"tr\",{children:row.getVisibleCells().map(function(cell,index){return/*#__PURE__*/_jsx(\"td\",{children:flexRender(cell.column.columnDef.cell,cell.getContext())},index);})},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"position-fixed\",children:/*#__PURE__*/_jsx(\"button\",{className:\"large-button\",onClick:handleSearch,children:\"+\"})})]});}export default Home;","map":{"version":3,"names":["useState","useEffect","useNavigate","flexRender","getCoreRowModel","useReactTable","jsx","_jsx","jsxs","_jsxs","Home","_ref","user","myCompanyList","companyList","navigate","_useState","_useState2","_slicedToArray","data","setData","columns","accessorKey","header","cell","rowContext","onClick","handleEdit","row","original","children","table","document","title","handleCompanyInfoTable","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newData","i","j","wrap","_callee$","_context","prev","next","length","id","email","name","memo","push","abrupt","stop","apply","arguments","alert","concat","handleSearch","className","getHeaderGroups","map","headerGroup","index","headers","isPlaceholder","column","columnDef","getContext","getRowModel","rows","getVisibleCells"],"sources":["/Users/akiyamashuuhei/data/ShereJob/frontend/src/pages/home.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { HomeProps, MyCompanyTableType } from '../utils/types';\nimport {\n\tColumnDef,\n\tflexRender,\n\tgetCoreRowModel,\n\tuseReactTable,\n\tCellContext,\n} from '@tanstack/react-table';\n\n/**\n * ホーム画面\n * @param param0\n * @returns\n */\nfunction Home({ user, myCompanyList, companyList }: HomeProps) {\n\tconst navigate = useNavigate();\n\tconst [data, setData] = useState<MyCompanyTableType[]>([]);\n\t/**\n\t * テーブルのヘッダを定義する\n\t */\n\tconst columns: ColumnDef<MyCompanyTableType, any>[] = [\n\t\t{\n\t\t\taccessorKey: 'name',\n\t\t\theader: '企業名',\n\t\t},\n\t\t{\n\t\t\taccessorKey: 'memo',\n\t\t\theader: 'メモ',\n\t\t},\n\t\t{\n\t\t\taccessorKey: 'actions',\n\t\t\theader: '', // 空のヘッダーを指定して編集ボタンの列を作成\n\t\t\tcell: (rowContext: CellContext<MyCompanyTableType, any>) => (\n\t\t\t\t<button onClick={() => handleEdit(rowContext.row.original)}>\n\t\t\t\t\t編集\n\t\t\t\t</button>\n\t\t\t),\n\t\t},\n\t];\n\n\t/**\n\t * ReactTableを定義する\n\t */\n\tconst table = useReactTable<MyCompanyTableType>({\n\t\tdata: data,\n\t\tcolumns,\n\t\tgetCoreRowModel: getCoreRowModel(),\n\t});\n\n\t/**\n\t * companyInfoからcompanyInfoTableの情報を取得する\n\t */\n\tuseEffect(() => {\n\t\tif (user) {\n\t\t\tdocument.title = 'ホーム';\n\t\t\tconst handleCompanyInfoTable = async () => {\n\t\t\t\tif (companyList.length > 0) {\n\t\t\t\t\tconst newData: MyCompanyTableType[] = [];\n\t\t\t\t\tfor (let i = 0; i < myCompanyList.length; i++) {\n\t\t\t\t\t\tfor (let j = 0; j < companyList.length; j++) {\n\t\t\t\t\t\t\tif (myCompanyList[i].id === companyList[j].id) {\n\t\t\t\t\t\t\t\tconst row = {\n\t\t\t\t\t\t\t\t\tid: myCompanyList[i].id, // idを追加\n\t\t\t\t\t\t\t\t\temail: myCompanyList[i].email, // emailを追加\n\t\t\t\t\t\t\t\t\tname: companyList[j].name,\n\t\t\t\t\t\t\t\t\tmemo: myCompanyList[i].memo,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tnewData.push(row);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetData(newData);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\thandleCompanyInfoTable();\n\t\t} else {\n\t\t\talert('ログインしてください');\n\t\t\tnavigate('/pages/user/login');\n\t\t}\n\t}, [myCompanyList, companyList]);\n\n\t/**\n\t * 編集画面に遷移する\n\t * @param row emailとidが含まれる\n\t */\n\tconst handleEdit = (row: MyCompanyTableType) => {\n\t\t// 編集処理を実装する\n\t\tnavigate(`/pages/myCompany/myCompany/${row.email}/${row.id}`);\n\t};\n\n\t/**\n\t * 検索画面に遷移する\n\t */\n\tconst handleSearch = () => {\n\t\tnavigate('/pages/company/searchCompany');\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>{user.name}様</h2>\n\t\t\t<h3>登録企業</h3>\n\n\t\t\t<table className=\"table\">\n\t\t\t\t<thead>\n\t\t\t\t\t{table.getHeaderGroups().map((headerGroup, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t{headerGroup.headers.map((header, index) => (\n\t\t\t\t\t\t\t\t<th key={index}>\n\t\t\t\t\t\t\t\t\t{header.isPlaceholder\n\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t: flexRender(\n\t\t\t\t\t\t\t\t\t\t\t\theader.column.columnDef.header,\n\t\t\t\t\t\t\t\t\t\t\t\theader.getContext()\n\t\t\t\t\t\t\t\t\t\t  )}\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{table.getRowModel().rows.map((row, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t{row.getVisibleCells().map((cell, index) => (\n\t\t\t\t\t\t\t\t<td key={index}>\n\t\t\t\t\t\t\t\t\t{flexRender(cell.column.columnDef.cell, cell.getContext())}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t\t<div className=\"position-fixed\">\n\t\t\t\t<button className=\"large-button\" onClick={handleSearch}>\n\t\t\t\t\t+\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}